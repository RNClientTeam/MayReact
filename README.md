# MayReact
先介绍下MayReact；

　　https://github.com/sven36/MayReact

　　MayReact是我参照React，preact，anujs等库写的一个miniReact框架；其初衷和anu很相似就是写一个更小更快，不过可以拥有react的api完美兼容其生态的一个框架；
   anu我也很推荐地址：https://github.com/RubyLouvre/anu

　　今天我很高兴，因为MayReact已经可以跑通全部的React官方测试用例，也就是说MayReact已经可以使用在生产环境了；

　　当然现在MayReact还不够完美，还有很多可以雕琢的地方，不过0到1已经完成了1到2就会顺利很多；

　　其实我写MayReact的出发点就是看React的源码很多地方看不明白有些地方感觉React又有点过实现了，就想着自己写一个类似的框架吧；

　　MayReact其实May取maybe的意思，就是或许我也可以写一个React框架；

　　在这个过程中又看了preact,anu发现司徒正美先生的anu和我目的一样，而且人家写的很好，所以MayReact有很多地方都是借(chao)鉴(xi)anu和preact的，当然更多的地方是我一点点写出来的；

以后我的项目就打算替换成MayReact了，毕竟自己写的；而且跑400多单元测试这种苦不能白挨啊~

　　当然其实我写这个更主要的目的还是为了帮助很多像我一样的人，我开始就对React的源码感兴趣好奇他是怎么实现的，网上看各种源码分析自己看源码都看的似懂非懂；想自己写又不知从何写起；

后来在网上看见了peact，后来又找到了anu，看着不过瘾就开始自己写；开始到现在得有三个多月了吧，其实在这个过程中自己实现一个简易的React不难，难得是实现的React它的行为要和官方的

一样，比如我在WillMount和DidMount调用setState什么区别，我在子组件调用父组件的setState生命周期应该怎么走，我调了次setState，再调forceUpdate，再调setState它该怎么表现；

我这个组件是受控组件diff的时候变成非受控组件了该提示什么，我这个组件context被三个不同的子组件用到了，我在第一个组件修改了其它两个要不要修改怎么修改；（有没有感觉到我跑他这单元测试有多崩溃！！！）这三个多月其实完成最初版本的只用了半个月多点吧，剩余时间都在不停的跑测试不停的重构了；所以你写一个也肯定会对React了如指掌再看React的源码会微微一笑，当初不理解的地方原来是为了处理这种情况的；为啥会了如指掌？每天调试几百次坚持几个月不了如指掌才怪~当然我不是为了吓唬你这个多难，其实它并不难，更多的需要你的毅力，不停的思考更好的解决方法；而你写完之后也会有巨大的成就感的；借用我听到的一句话：做事情有两个最重要的品质一个是热情一个是毅力，热情让你开始，毅力让你坚持；

　　好了鸡汤说完了，再稍微说下MayReact，为了方便你看最容易看的版本（我理解写完未解耦的最容易看因为他的逻辑是顺着下来的，如果我把代码抽出更多的公共方法，改善它的流程那是因为我对它很了解我知道这段代码应该什么时候执行，该怎么执行所以我觉得我为什么光看看不太懂，因为我没有这个思考过程，写这个的目的是什么，要在哪调用，需要注意顺序吗，需要注意值是新的还是旧的吗等等；我新建了一个分支forRead这就是刚跑完测试的版本虽然有很多地方还很low不过应该是比较容易读的版本，好多地方也都写了当时的理解等等；希望对你有帮助；）

MayReact现在是65kb 大小跟anu(75kb)差不多，等我优化之后体积应该差不多吧，最后基本上是React的1/5了；性能刚跑了一下anu是React的两倍，我这才是React的一倍，等我优化之后争取比anu还快一些吧（毕竟珠玉在前，也要有点创新不是）；其实写完May我觉得性能重要但是框架的健壮性也是应该保证的，而且我重写一个框架让它更快还是比较简单的毕竟珠玉在前，难的是从无到有，当然这也是我们继续努力的方向；

　　絮絮叨叨说了这么多也希望你早日完成你的框架；路漫漫其修远兮，愿你我都能孜孜以求~

 
